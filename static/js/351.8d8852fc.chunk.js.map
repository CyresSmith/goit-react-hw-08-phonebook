{"version":3,"file":"static/js/351.8d8852fc.chunk.js","mappings":"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","sources":["components/shared/FormField/FormField.styled.js","components/shared/FormField/FormField.jsx","components/shared/Title/Title.styled.js","components/shared/Section/Section.jsx","components/LoginForm/LoginForm.styled.js","components/LoginForm/LoginForm.jsx","pages/LoginPage.jsx"],"sourcesContent":["import styled from 'styled-components';\r\nimport theme from 'theme';\r\nimport { Field } from 'formik';\r\n\r\nexport const Label = styled.label`\r\n  position: absolute;\r\n  bottom: 40px;\r\n  font-size: ${theme.fontSizes.s};\r\n  margin-bottom: ${theme.space[1]};\r\n  color: ${theme.colors.background};\r\n`;\r\n\r\nexport const Input = styled(Field)`\r\n  font-size: ${theme.fontSizes.m};\r\n  padding: ${theme.space[3]};\r\n  border: ${theme.borders.none};\r\n  border-radius: ${theme.radii.normal};\r\n  background-color: ${theme.colors.primary};\r\n  width: 220px;\r\n\r\n  ::placeholder {\r\n    font-family: ${theme.fonts.body};\r\n    color: ${theme.colors.secondary};\r\n  }\r\n`;\r\n\r\nexport const Error = styled.p`\r\n  display: inline;\r\n  position: absolute;\r\n  top: calc(${theme.space[3]} + 34px);\r\n  right: 0;\r\n  font-size: ${theme.fontSizes.m};\r\n  color: red;\r\n`;\r\n","import { ErrorMessage } from 'formik';\r\n\r\nimport { Input, Label, Error } from './FormField.styled';\r\nimport Box from 'components/shared/Box';\r\nimport theme from 'theme';\r\n\r\nconst FormField = ({ type, label, icon: Icon, placeholder }) => {\r\n  return (\r\n    <Box display=\"flex\" alignItems=\"center\" position=\"relative\">\r\n      <Box mr={[3]}>\r\n        <Icon size={34} color={theme.colors.accent} />\r\n      </Box>\r\n      <Box display=\"flex\" flexDirection=\"column\" alignItems=\"flex-start\">\r\n        <Label htmlFor={type}>{label}</Label>\r\n        <Input id={type} name={type} type={type} placeholder={placeholder} />\r\n        <ErrorMessage name={type} component={Error} />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default FormField;\r\n","import styled from 'styled-components';\r\nimport theme from 'theme';\r\n\r\nconst Title = styled.h3`\r\n  text-align: center;\r\n  font-size: ${theme.fontSizes.xl};\r\n  font-weight: ${theme.fontWeights.bold};\r\n  color: ${theme.colors.accent};\r\n  margin-bottom: ${theme.space[4]};\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n\r\nexport default Title;\r\n","import Box from 'components/shared/Box';\r\nimport Title from 'components/shared/Title/Title.styled';\r\nimport { PropTypes } from 'prop-types';\r\nimport theme from 'theme';\r\n\r\nconst Section = ({ title, children, variant = 'container' }) => {\r\n  return (\r\n    <Box variant=\"section\" as=\"section\" backgroundColor=\"background\">\r\n      <Box variant={variant}>\r\n        {title && <Title>{title}</Title>}\r\n        {children}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nSection.propTypes = {\r\n  title: PropTypes.string,\r\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]).isRequired,\r\n};\r\n\r\nexport default Section;\r\n","import styled from 'styled-components';\r\nimport theme from 'theme';\r\nimport { Form } from 'formik';\r\n\r\nexport const LoginForm = styled(Form)`\r\n  display: flex;\r\n  width: 300px;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  padding: ${theme.space[5]} ${theme.space[4]};\r\n  background-color: ${theme.colors.secondary};\r\n  border-radius: ${theme.radii.high};\r\n`;\r\n","import { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Notify } from 'notiflix';\r\n\r\nimport { IoIosMail } from 'react-icons/io';\r\nimport { RiLockPasswordFill } from 'react-icons/ri';\r\nimport { RiLoginBoxFill } from 'react-icons/ri';\r\n\r\nimport { useUserLogInMutation } from 'redux/userAPI';\r\nimport { setAuthHeader } from 'redux/axiosBaseQuery';\r\nimport { setAuth } from 'redux/authSlice';\r\n\r\nimport FormField from 'components/shared/FormField';\r\nimport { LoginForm as Form } from './LoginForm.styled';\r\nimport Button from 'components/shared/Button';\r\nimport Box from 'components/shared/Box';\r\n\r\nconst ValidationSchema = Yup.object().shape({\r\n  email: Yup.string().email('Must be valid email').required('Required'),\r\n  password: Yup.string()\r\n    .min(8, 'Must be at least 8 characters')\r\n    .required('Required'),\r\n});\r\n\r\nconst LoginForm = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [userLogIn, { data, isError, isLoading, isSuccess }] =\r\n    useUserLogInMutation();\r\n\r\n  if (isSuccess) {\r\n    Notify.success(`Woohoo! Glad to see you again ${data.user.name}! `);\r\n    setAuthHeader(data.token);\r\n    dispatch(setAuth(data));\r\n  }\r\n\r\n  if (isError) {\r\n    Notify.failure(`What a shame! User login error.`);\r\n  }\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        email: '',\r\n        password: '',\r\n      }}\r\n      validationSchema={ValidationSchema}\r\n      onSubmit={({ email, password }, { resetForm }) => {\r\n        const user = {\r\n          email: email.trim(),\r\n          password: password.trim(),\r\n        };\r\n\r\n        userLogIn(user);\r\n        resetForm();\r\n      }}\r\n    >\r\n      <Form>\r\n        <Box mb={[5]}>\r\n          <FormField\r\n            type=\"email\"\r\n            label=\"Email\"\r\n            icon={IoIosMail}\r\n            placeholder=\"mail@mail.com\"\r\n          />\r\n        </Box>\r\n\r\n        <Box mb={[5]}>\r\n          <FormField\r\n            type=\"password\"\r\n            label=\"Password\"\r\n            icon={RiLockPasswordFill}\r\n            placeholder=\"********\"\r\n          />\r\n        </Box>\r\n\r\n        <Button\r\n          type=\"submit\"\r\n          isLoading={isLoading}\r\n          icon={RiLoginBoxFill}\r\n          disabled={isLoading ? true : false}\r\n          children=\"Log in\"\r\n          iconSize={20}\r\n        />\r\n      </Form>\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import LoginForm from 'components/LoginForm';\r\nimport Section from 'components/shared/Section';\r\n\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { getAuth } from 'redux/selectors';\r\n\r\nconst LoginPage = () => {\r\n  const { token } = useSelector(getAuth);\r\n\r\n  return (\r\n    <>\r\n      {token === '' ? (\r\n        <Section>\r\n          <LoginForm />\r\n        </Section>\r\n      ) : (\r\n        <Navigate to=\"/contacts\" />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n"],"names":["Label","styled","theme","Input","Field","Error","type","label","Icon","icon","placeholder","Box","display","alignItems","position","mr","size","color","flexDirection","htmlFor","id","name","component","title","children","variant","as","backgroundColor","LoginForm","Form","ValidationSchema","Yup","shape","email","required","password","min","dispatch","useDispatch","useUserLogInMutation","userLogIn","data","isError","isLoading","isSuccess","Notify","user","setAuthHeader","token","setAuth","initialValues","validationSchema","onSubmit","resetForm","trim","mb","FormField","IoIosMail","RiLockPasswordFill","Button","RiLoginBoxFill","disabled","iconSize","useSelector","getAuth","Section","to"],"sourceRoot":""}